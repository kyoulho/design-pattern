# 상태 패턴

상태를 기반으로 하는 행동을 캡슐화하고 행동을 현재 상태에게 위임한다.

---

상태 패턴(State Pattern)은 객체가 내부적으로 상태를 변경할 때마다 객체의 행동을 바꾸는 패턴이다.
이 패턴은 객체의 상태에 따라 객체가 수행하는 동작을 동적으로 변경할 수 있게 한다.


### 상태 패턴을 사용해야 하는 상황

1. **객체의 행동이 상태에 따라 변할 때:**
   - 객체의 행동이 특정 상태에 의존적이고, 상태가 변경될 때마다 객체의 행동이 동적으로 변해야 할 때 상태 패턴이 유용하다.

2. **복잡한 조건문 대체:** 
   - 상태 패턴은 많은 조건문을 피할 수 있다. 객체의 상태에 따른 각각의 동작을 개별적인 상태 클래스로 캡슐화하면 복잡한 조건문을 피할 수 있다.

3. **유지보수 용이성:** 
   - 새로운 상태가 추가되거나 기존 상태의 동작이 변경될 때, 해당 상태에 대한 클래스만 수정하면 되므로 코드의 유지보수가 용이하다.

### 상태 패턴을 사용하는 경우의 문제점

1. **클래스 수 증가:**
   - 각 상태를 별도의 클래스로 구현하기 때문에 클래스의 수가 증가할 수 있다.

2. **상태 전환의 오버헤드:**
   - 상태가 자주 전환되는 경우에는 상태 전환에 대한 오버헤드가 발생할 수 있다. 상태가 변경될 때마다 새로운 상태 객체를 생성해야 하므로 객체의 생성 및 소멸에 따른 부하가 발생할 수 있다.

3. **순환 참조:** 
   - 상태 객체 간에 서로를 참조하는 경우 순환 참조가 발생할 수 있다. 이는 메모리 누수를 유발할 수 있다.

4. **상태 전환 로직의 중앙 집중화:** 
   - 상태 전환 로직이 클라이언트나 컨텍스트 클래스에 직접 구현되는 경우가 있을 수 있다. 이로 인해 상태 패턴의 장점이 퇴색되고, 전환 로직의 중앙 집중화로 인한 복잡성이 발생할 수 있다.
